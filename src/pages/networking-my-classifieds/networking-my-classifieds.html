<!--
  Generated template for the NetworkingClassifiedsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Mis publicaciones</ion-title>

  </ion-navbar>
</ion-header>
<ion-content class="element-aparecer">
  <div class="search-container">
    <ion-searchbar placeholder="Buscar"  (ionChange)="getItems($event.value)"></ion-searchbar>
  </div>
  <ion-grid>
    <ion-row>
      <ion-col>
        <div>       
          <ion-item no-lines class="item-filter">
            <ion-label>Organizar Por</ion-label>
            <ion-select interface="alert" cancelText="Cancelar" (ionChange)="setFilter($event)" okText="Ok" [selectOptions]="optionsSheet" [(ngModel)]="filter" onchange="">
              <ion-option *ngFor="let option of options" [value]="option.value">{{option.text}}</ion-option>        
            </ion-select>
          </ion-item>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
<div *ngIf="!getting"> 
  <div  *ngFor="let item of classifiedsAll">
   
    <div padding  class="card">
      <ion-item no-padding no-lines class="transparent">           
        <button  class="btn-blue" *ngIf="item.cla_esta=='P'" item-end ion-button (click)="editClassified(item)">
          <ion-icon name="md-create"></ion-icon>
        </button>
        <button  color="danger" item-end ion-button (click)="updateClassified(item)">
          <ion-icon name="md-trash"></ion-icon>
        </button>
        <ion-label>
          <h1><b>{{item.cla_titu}}</b></h1>
          <h1>{{item.cla_fech | date : 'dd/MM/yyyy'}}</h1>
          <ion-badge  class="badge-classified orange"  >{{ item.cla_esta =='I'?'Vencido':item.cla_esta=='A'?'Aprobado':item.cla_esta=='P'?'Pendiente':'Rechazado'}}</ion-badge>
        </ion-label>                      
      </ion-item>
      <ion-item no-padding no-lines class="transparent">           
        <img (click)="goViewer(item.cla_foto)"  *ngIf="item.cla_foto != null && item.cla_foto!=''" src="{{item.cla_foto}}" alt="clasificado">    
        <img class="img-nothing"  *ngIf="item.cla_foto == ''" src="assets/imgs/computer.svg" alt="clasificado">   
        <waiting-clock *ngIf="item.cla_foto==null"></waiting-clock>                  
        <!-- <div text-center *ngIf="item.cla_foto == null" class="classified-img-loading">
          <i  class="fa fa-refresh fa-spin" aria-hidden="true"></i>
        </div> -->
      </ion-item>
      <div tappable (click)="goClassifiedViewer(item)" class="text-body">
        <p>{{item.cla_desc}}</p>
        <h2><b>Nombre: </b>{{item.cla_nomb}}</h2> 
        <h2><b>Tel√©fono: </b>{{item.cla_tele}}</h2> 
       
      </div>     
    </div>    
  </div>
  <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
    <ion-infinite-scroll-content></ion-infinite-scroll-content>
  </ion-infinite-scroll>
</div>


  <div *ngIf="getting">
    <div class="card" *ngFor="let item of [1,2,3]">
      <div class="card-header">
        <skeleton-item width="100%"></skeleton-item>
        <skeleton-item width="50px"></skeleton-item>
  
      </div>
  
      <div class="card-body">
        <div class="card-img">
          <skeleton-item width="100%" height="200px"></skeleton-item>
        </div>
        
        <div class="card-text">
          <skeleton-item width="100%"></skeleton-item>
          <div text-right>
            <skeleton-item width="80px" rounded></skeleton-item>
          </div>
          
         
        </div>
        
      </div>
      
  
  
  
  
    </div>
  </div>

</ion-content>