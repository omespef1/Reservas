<!--
  Generated template for the NetworkingNewsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-buttons start>
      <button (click)="goHome()" ion-button round>
        <ion-icon name="home"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>Noticias</ion-title>

  </ion-navbar>
</ion-header>

<ion-content class="element-aparecer">
  <div class="search-container">
    <ion-searchbar placeholder="Buscar" (ionInput)="getItems($event)"></ion-searchbar>
  </div>
  <ion-grid>

    <ion-row>
      <ion-col>
        <div>
          <ion-item no-lines class="item-filter">
            <ion-label>Organizar Por</ion-label>
            <ion-select interface="alert" cancelText="Cancelar" (ionChange)="setFilter($event)" okText="Ok" [selectOptions]="optionsSheet" [(ngModel)]="filter" onchange="">
              <ion-option *ngFor="let option of options" [value]="option.value">{{option.text}}</ion-option>        
            </ion-select>
          </ion-item>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
<div *ngIf="!getting" >
  <div class="card" *ngFor="let item of news">
    <div class="card-header">
      <h2><b>{{item.osa_nomb}}</b></h2>
      <h2>{{item.osa_fini | date: 'dd/MM/yyyy'}}</h2>

    </div>

    <div class="card-body">
      <div class="card-img">
        <img *ngIf="item.osa_bmpr != null" src="{{item.osa_bmpr}}" alt="proyecto">             
        <div text-center *ngIf="item.osa_bmpr == null" class="classified-img-loading">
          <i  class="fa fa-refresh fa-spin" aria-hidden="true"></i>
        </div>
      </div>
      
      <div class="card-text">

        <a href="{{item.osa_link}}">Haga clic aqu√≠</a>
        <div *ngIf="item.osa_livi != undefined && item.osa_livi.length>0" class="card-text">
          <p>
            <iframe width="100%" height="315" [src]="getVideoIframe(item.osa_livi)" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </p>
        </div>
      </div>
    </div>
    <div text-right>
      <button (click)="openNew(item)" ion-button class="yellow" round>
        <ion-icon  name="eye"></ion-icon>&nbsp;Ver
      </button>
    </div>




  </div>
</div>

<div *ngIf="getting">
  <div class="card" *ngFor="let item of [1,2,3]">
    <div class="card-header">
      <skeleton-item width="100%"></skeleton-item>
      <skeleton-item width="50px"></skeleton-item>

    </div>

    <div class="card-body">
      <div class="card-img">
        <skeleton-item width="100%" height="200px"></skeleton-item>
      </div>
      
      <div class="card-text">
        <skeleton-item width="100%"></skeleton-item>
        <div text-right>
          <skeleton-item width="80px" rounded></skeleton-item>
        </div>
        
       
      </div>
      
    </div>
    




  </div>
</div>


</ion-content>
